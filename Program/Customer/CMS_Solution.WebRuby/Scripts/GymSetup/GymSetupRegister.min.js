var GymSetupRegister=function(n){for(var t in n)this[t]=n[t];return this.Initialize(n)};GymSetupRegister.prototype={Initialize:function(){this.RegisterEvent()},RegisterEvent:function(){this.IsPaging=!1;var n=this;$("#btnSave").unbind("click").click(function(){if(Common.GymSetupRegister.validatorForm("#form-GymTrialAdd"),$("#form-GymTrialAdd").find(".field-validation-error").length==0){var n=$("#form-GymTrialAdd").serialize();console.log(n);Common.ShowLoading(!0);Common.Ajax({url:Common.GymSetupRegister.Url.Register,type:"POST",ContentType:"application/json; charset=utf-8",async:!1,cache:!1,dataType:"JSON",data:n},function(n){Common.ShowLoading(!1);Common.Empty(n)||(n.status==!0?(toastr.success("Đăng ký thành công.!!!","Thông báo",{timeOut:2e3,progressBar:!0,closeButton:!0}),$("#form-GymTrialAdd").find("input[type=text], textarea").val(""),$("#form-GymTrialAdd").find("input[type=file]").val(null)):toastr.error("Đăng ký thất bại.!!!","Thông báo",{timeOut:2e3,progressBar:!0,closeButton:!0}))})}return!1})},validatorForm:n=>{document.querySelectorAll(n+" .field-validation-error").forEach(function(n){n.remove(n)}),document.querySelectorAll(n+' input[type="text"][data-rule-required],'+n+' textarea[data-rule-required="true"],'+n+' select[data-rule-required="true"]').forEach(function(n){if(Common.Empty(n.value)&&Common.Empty(n.getAttribute("disabled"))){var t='<div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;;width:40%;text-align: left;">'+n.getAttribute("data-msg-required")+"<\/div>";n.insertAdjacentHTML("afterend",t)}}),document.querySelectorAll(n+' input[type="text"][data-rule-required],'+n+' textarea[data-rule-required="true"],'+n+' select[data-rule-required="true"]').forEach(function(n){if(!Common.Empty(n.value)&&(/<[a-z][\s\S]*>/i.test(n.value)||/<[/s/S][a-z][\s\S]*>/i.test(n.value)))n.insertAdjacentHTML("afterend",'<div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block; width:40%;text-align: left;">Không được chứa mã HTML!!!<\/div>')}),document.querySelectorAll(n+' input[type="text"][data-rule-required],'+n+' textarea[data-rule-required="true"],'+n+' select[data-rule-required="true"]').forEach(function(n){if(!Common.Empty(n.value)&&Common.Empty(Common.RemoveScript(n.value)))n.insertAdjacentHTML("afterend",'<div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block; width:40%;text-align: left;">Không có đoạn Javascript không hợp lệ !!!<\/div>')}),document.querySelectorAll(n+' input[type="text"][data-rule-email]').forEach(function(n){if(!Common.Empty(n.value)&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n.value)&&Common.Empty(n.getAttribute("disabled"))){var t='<div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block; width:40%;text-align: left;">'+n.getAttribute("data-msg-email")+"<\/div>";n.insertAdjacentHTML("afterend",t)}}),document.querySelectorAll(n+' input[type="file"][data-rule-required]').forEach(function(n){if(Common.Empty(n.value)){var t='<div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block; width:40%;text-align: left;">'+n.getAttribute("data-msg-required")+"<\/div>";n.insertAdjacentHTML("afterend",t)}})}};