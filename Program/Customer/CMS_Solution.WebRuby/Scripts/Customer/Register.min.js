var Register=function(n){for(var t in n)this[t]=n[t];return this.Initialize(n)};Register.prototype={Initialize:function(){this.RegisterEvent()},RegisterEvent:function(){this.IsPaging=!1;var n=this;$("#btnSave").unbind("click").click(function(){if(Common.Register.validatorForm("#form-InsUpd"),$("#form-InsUpd").find(".field-validation-error").length===0){var n=$("#form-InsUpd").serialize();Common.ShowLoading(!0);Common.Ajax({url:Common.Register.Url.Create,type:"POST",ContentType:"application/json; charset=utf-8",async:!1,cache:!1,dataType:"JSON",data:n},function(n){if(n.status===!0)toastr.success("Đăng ký thành công!","Thông báo",{timeOut:1e3,progressBar:!0,closeButton:!0}),window.location="/dang-nhap",Common.ShowLoading(!1);else{switch(n.type){case"email":toastr.error("Email đã tồn tại!","Thông báo",{timeOut:5e3,progressBar:!0,closeButton:!0});break;case"phone":toastr.error("Số điện thoại đã tồn tại!","Thông báo",{timeOut:5e3,progressBar:!0,closeButton:!0});break;default:toastr.error("Đăng ký không thành công!","Thông báo",{timeOut:5e3,progressBar:!0,closeButton:!0})}Common.ShowLoading(!1)}})}});document.querySelectorAll("input[data-rule-phone]").forEach(function(n){let t=function(){this.value=this.value.replace(/[^+\d]/g,"")};n.removeEventListener("input",t);n.addEventListener("input",t)})},validatorForm:n=>{document.querySelectorAll(n+" .field-validation-error").forEach(function(n){let t=n.parentNode;t.parentNode.removeChild(t)});document.querySelectorAll(n+' input[type="text"][data-rule-required],'+n+' textarea[data-rule-required="true"]').forEach(function(n){if(Common.Empty(n.value)&&Common.Empty(n.getAttribute("disabled"))){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-required")+"<\/div>";const i=n.parentNode;i.appendChild(t)}});document.querySelectorAll(n+' input[type="text"][data-rule-email]').forEach(function(n){if(!Common.Empty(n.value)&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n.value)&&Common.Empty(n.getAttribute("disabled"))){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-email")+"<\/div>";const i=n.parentNode;i.appendChild(t)}});document.querySelectorAll(n+' input[type="text"][data-rule-min-length],'+n+" textarea[data-rule-min-length]").forEach(function(n){if(!Common.Empty(n.value)&&n.value.length<n.getAttribute("data-rule-min-length")){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-min-length")+"<\/div>";const i=n.parentNode;i.appendChild(t)}});document.querySelectorAll(n+' input[type="password"][data-rule-required],'+n+' textarea[data-rule-required="true"]').forEach(function(n){if(Common.Empty(n.value)&&Common.Empty(n.getAttribute("disabled"))){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-required")+"<\/div>";const i=n.parentNode;i.appendChild(t)}});let t=document.getElementById("RePassword"),i=document.getElementById("Password");if(!Common.Empty(i.value)&&Common.Empty(i.getAttribute("disabled"))&&!Common.Empty(t.value)&&Common.Empty(t.getAttribute("disabled"))&&i.value!==t.value){let n=document.createElement("section");n.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">Mật khẩu xác nhận không chính xác!!!<\/div>';const i=t.parentNode;i.appendChild(n)}}};