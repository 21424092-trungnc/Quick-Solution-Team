var Login=function(n){for(var t in n)this[t]=n[t];return this.Initialize(n)};Login.prototype={Initialize:function(){this.LoginEvent()},LoginEvent:function(){this.IsPaging=!1;var n=this;$("#btn-login").unbind("click").click(function(){return Common.Login.validatorForm("#form-Login"),$("#form-Login").find(".field-validation-error").length==0&&$("#form-Login").unbind("submit").submit(),!1})},getUserInfoFB:n=>{FB.api("/me",{fields:"id,email,name,gender",access_token:n},function(n){const t={FacebookID:n.id,Email:n.email,FullName:n.name,Gender:n.gender};Common.Login.ssoLogin(t)})},getUserInfoGG:n=>{const t=n.getBasicProfile(),i={GoogleID:t.getId(),FullName:t.getFamilyName()+(t.getGivenName()?" "+t.getGivenName():""),Email:t.getEmail()};Common.Login.ssoLogin(i)},ssoLogin:n=>{Common.ShowLoading(!0),Common.Ajax({url:Common.Login.Url.LoginAccountSSO,type:"POST",ContentType:"application/json; charset=utf-8","async":!1,cache:!1,dataType:"JSON",data:n},function(n){Common.ShowLoading(!1);Common.Empty(n)?toastr.error("Đăng nhập thất bại.!!!","Thông báo",{timeOut:2e3,progressBar:!0,closeButton:!0}):window.location=n.url})},validatorForm:n=>{document.querySelectorAll(n+" .field-validation-error").forEach(function(n){let t=n.parentNode;t.parentNode.removeChild(t)}),document.querySelectorAll(n+' input[type="text"][data-rule-required],'+n+' textarea[data-rule-required="true"]').forEach(function(n){if(Common.Empty(n.value)&&Common.Empty(n.getAttribute("disabled"))){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-required")+"<\/div>";const i=n.parentNode;i.insertBefore(t,n.nextSibling)}}),document.querySelectorAll(n+' input[type="password"][data-rule-required],'+n+' textarea[data-rule-required="true"]').forEach(function(n){if(Common.Empty(n.value)&&Common.Empty(n.getAttribute("disabled"))){let t=document.createElement("section");t.innerHTML='<section class="clearfix"><\/section><div class="field-validation-error alert alert-danger fade show" role="alert" style="display: block;">'+n.getAttribute("data-msg-required")+"<\/div>";const i=n.parentNode;i.insertBefore(t,n.nextSibling)}})},ShowMessage:n=>(toastr.error(n,"Thông báo",{timeOut:2e3,progressBar:!0,closeButton:!0}),!1)};